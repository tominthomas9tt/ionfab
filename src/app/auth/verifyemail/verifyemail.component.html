<ion-content>
    <div>
        <ion-grid>
            <ion-row class="ion-justify-content-center">
                <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
                    <ion-card>
                        <ion-card-header class="ion-text-center">
                            <ion-card-title>Verify Email</ion-card-title>
                            <ion-card-subtitle>Enter the OTP sent to your registered email.</ion-card-subtitle>
                        </ion-card-header>
                        <ion-card-content>
                            <div *ngIf="showEmailForm">
                                <form [formGroup]="mailForm" (ngSubmit)="sentVerification()">
                                    <ion-row>
                                        <ion-col>
                                            <ion-item>
                                                <ion-label position="floating">Email *</ion-label>
                                                <ion-input type="text" formControlName="userPrimaryEmail"></ion-input>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                    <hr>
                                    <ion-row class="ion-justify-content-center">
                                        <ion-button type="submit" [disabled]="!mailForm.valid" shape="round">Send OTP</ion-button>
                                    </ion-row>
                                </form>
                            </div>
                            <div *ngIf="showOTPForm">
                                <form [formGroup]="otpForm" (ngSubmit)="verifyOtp()">
                                    <ion-row>
                                        <ion-col>
                                            <p>OTP was successfully sent to email {{email}}</p>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-item>
                                                <ion-label position="floating">Verification Code *</ion-label>
                                                <ion-input type="text" formControlName="verificationCode"></ion-input>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                    <hr>
                                    <ion-row class="ion-justify-content-center">
                                        <ion-button type="submit" [disabled]="!otpForm.valid" shape="round">Submit</ion-button>
                                    </ion-row>
                                    <ion-row class="ion-justify-content-center">
                                        <!-- <ion-button (click)="changeEmail()">Change email</ion-button> -->
                                        <ion-button (click)="resendOtp()" fill="clear">Didn't recieve the OTP? Click to Resend.</ion-button>
                                    </ion-row>
                                </form>
                            </div>
                        </ion-card-content>
                    </ion-card>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
</ion-content>